
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>移动端适配方案 | Knight</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Shibiaoz">
    

    
    <meta name="description" content="移动端适配方案总结，移动端开发总是存在很多的挑战，兼容性、性能、更高要求的用户体验，都是前端攻城狮需要一一攻破的壁垒。而大屏、高分辨率的手机的出现，又为攻城狮们立下了一个新的制高点，如何适配不同尺寸，不同分辨率的机器，如何在高清分辨率的屏幕上为用户呈现更精致的作品，是前端攻城狮新的挑战。（最近在做调研，mark下伟涛写的）总结
利用zoom适配在进行拍拍小店的开发中我们发现页面在高清分辨率的手机如">
<meta property="og:type" content="article">
<meta property="og:title" content="移动端适配方案">
<meta property="og:url" content="http://yoursite.com/2015/10/14/Adaptation-summary/index.html">
<meta property="og:site_name" content="Knight">
<meta property="og:description" content="移动端适配方案总结，移动端开发总是存在很多的挑战，兼容性、性能、更高要求的用户体验，都是前端攻城狮需要一一攻破的壁垒。而大屏、高分辨率的手机的出现，又为攻城狮们立下了一个新的制高点，如何适配不同尺寸，不同分辨率的机器，如何在高清分辨率的屏幕上为用户呈现更精致的作品，是前端攻城狮新的挑战。（最近在做调研，mark下伟涛写的）总结
利用zoom适配在进行拍拍小店的开发中我们发现页面在高清分辨率的手机如">
<meta property="og:updated_time" content="2015-11-15T15:26:40.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="移动端适配方案">
<meta name="twitter:description" content="移动端适配方案总结，移动端开发总是存在很多的挑战，兼容性、性能、更高要求的用户体验，都是前端攻城狮需要一一攻破的壁垒。而大屏、高分辨率的手机的出现，又为攻城狮们立下了一个新的制高点，如何适配不同尺寸，不同分辨率的机器，如何在高清分辨率的屏幕上为用户呈现更精致的作品，是前端攻城狮新的挑战。（最近在做调研，mark下伟涛写的）总结
利用zoom适配在进行拍拍小店的开发中我们发现页面在高清分辨率的手机如">

    
    <link rel="alternative" href="/atom.xml" title="Knight" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="Knight" title="Knight"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="Knight">Knight</a></h1>
				<h2 class="blog-motto"></h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/10/14/Adaptation-summary/" title="移动端适配方案" itemprop="url">移动端适配方案</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Shibiaoz" target="_blank" itemprop="author">Shibiaoz</a>
		
  <p class="article-time">
    <time datetime="2015-10-14T13:24:33.000Z" itemprop="datePublished"> 发表于 2015-10-14</time>
    
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#利用zoom适配"><span class="toc-number">1.</span> <span class="toc-text">利用zoom适配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过动态设置viewport来缩放"><span class="toc-number">2.</span> <span class="toc-text">通过动态设置viewport来缩放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基于REM的解决方案"><span class="toc-number">3.</span> <span class="toc-text">基于REM的解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考"><span class="toc-number">5.</span> <span class="toc-text">参考</span></a></li></ol>
		
		</div>
		
		<p>移动端适配方案总结，移动端开发总是存在很多的挑战，兼容性、性能、更高要求的用户体验，都是前端攻城狮需要一一攻破的壁垒。而大屏、高分辨率的手机的出现，又为攻城狮们立下了一个新的制高点，如何适配不同尺寸，不同分辨率的机器，如何在高清分辨率的屏幕上为用户呈现更精致的作品，是前端攻城狮新的挑战。（最近在做调研，mark下伟涛写的）<a href="http://slides.com/shibiaozhang/deck-1/live#/" target="_blank" rel="external">总结</a></p>
<h3 id="利用zoom适配">利用zoom适配</h3><p>在进行拍拍小店的开发中我们发现页面在高清分辨率的手机如iPhone6 Plus上表现不尽如人意，有些元素还有文案在这些手机上显示得太小，视觉体验非常不好。咋办类？为了快速解决适配更高分辨率手机的问题，我们天马行空地想到，直接将页面按照一定比例缩放不就好啦，这样在更高分辨率的手机上将页面适当放大，不就能达到适配高清分辨率手机的目的。</p>
<p>适配的代码如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">global</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> width = global.innerWidth;</span><br><span class="line">  <span class="keyword">var</span> ratio = (width / <span class="number">320</span>).toFixed(<span class="number">2</span>);</span><br><span class="line">  ratio = <span class="built_in">Math</span>.min(ratio, <span class="number">2</span>);</span><br><span class="line">  <span class="built_in">document</span>.documentElement.style.zoom = ratio;</span><br><span class="line">  global.zoom = <span class="function"><span class="keyword">function</span> (<span class="params">ratio</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (ratio === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">document</span>.documentElement.style.zoom;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">document</span>.documentElement.style.zoom = ratio;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(<span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>
<p>原理就是以宽320这一值作为基准，读取页面大小，计算出比例然后设置给根元素的<code>zoom</code>属性，以达到缩放的目的。</p>
<p>这样可以快速暴力地将整个页面进行缩放，并且能适配大部分手机屏，在iPhone6 Plus上看起来效果棒棒哒，问题似乎解决了呢！</p>
<p>但是细细想下，这样做对于一些简单的活动页面来说可以满足需求，而对于一个布局比较复杂的网站来说，这样做非常不合适，因为这样将页面所有元素简单缩放，会改变元素原来的<strong>top/height</strong>等值，让已有组件如<strong>lazyload</strong>失效而需要重新计算，而且有些使用背景图的元素可能显示会有问题，可能需要重新切图；同时对于使用圆角边框元素，使用zoom变换后会导致边框的宽度不一致，影响视觉体验，虽然将<code>border</code>换成<code>box-shadow</code>后能解决这个问题，但是大量地使用<code>box-shadow</code>又会是另一个灾难；同时而在一些Android机器上会出现兼容性问题，比如元素被过度放大，这些都需要花时间去解决。</p>
<p>所以，使用<code>zoom</code>去暴力缩放是极力不推荐的一种做法。</p>
<h3 id="通过动态设置viewport来缩放">通过动态设置viewport来缩放</h3><p>看来<strong>zoom</strong>是一次失败的尝试啦，但是缩放页面是达到适配效果的最佳捷径，我们不想放弃，所以我们探索了另一种缩放方式，通过修改viewport来进行缩放。</p>
<p>Viewport是指浏览器用于展示内容的区域，但是在移动端viewport的大小不一定和浏览器的可视区域一样大，因为移动设备相对于PC来说太小，为了能显示那些为PC设计的网站，一般移动设备的浏览器通常会将自己默认的viewport设置为980px或者其他。</p>
<p>我们可以通过meta viewport标签来设置viewport，通过标签的<strong>width</strong>来设置viewport的大小，通过<strong>initial-scale</strong>、<strong>minimum-scale</strong>、<strong>maximum-scale</strong>来设置页面缩放，所以通过要达到我们的目的依然十分简单。</p>
<p>祭出神器：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta <span class="property">name</span>=<span class="string">"viewport"</span> content=<span class="string">"width=320,maximum-scale=1.3,user-scalable=no"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>我们目前的设计稿是都是基于320的，所以我们将width设为320，然后在这个基础上进行一定比例的缩放，这个比例是<strong>当前设备宽度/320</strong>计算出来动态修改的。利用这一方式可以非常快捷实现适配的目的，简单粗暴、非常高效。</p>
<p>但是，看起来美好的东西总是存在但是，经测试在某些Android手机上会存在页面元素模糊的问题，这又是一悲剧，不过如果对Android手机的适配要求不高的话，这一方式还是可以考虑的，暂时收为备胎方案吧。</p>
<p>而在这时，搜遍网络资料，发现了网易前端的一个<a href="https://github.com/unbug/generator-webappstarter/blob/master/app/templates/app/src/util/MetaHandler.js" target="_blank" rel="external">解决方案</a>，通过设置viewport，将width直接设置为UE图的宽度，然后按UE图的尺寸去编写页面，比如UE图的宽度为640，那么针对iOS设备，meta为</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta content=<span class="string">"width=640,user-scalable=no"</span> <span class="property">name</span>=<span class="string">"viewport"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>但是对于Android设备，由于只设置宽度它并不会主动进行缩放，所以我们需要通过一些设置来达到缩放的目的，缩放的值是通过<strong>当前设备宽度/设计稿的宽度</strong>来计算</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta content=<span class="string">"target-densitydpi=device-dpi,width=640,initial-scale=0.5625,maximum-scale=0.5625"</span> <span class="property">name</span>=<span class="string">"viewport"</span>&gt;</span><br></pre></td></tr></table></figure>
<p>据传这是网易前端实践多年总结出的方案，效果应该还是不错哒！</p>
<p>附上<a href="http://c.3g.163.com/CreditMarket/default.html" target="_blank" rel="external">例子</a>。</p>
<h3 id="基于REM的解决方案">基于REM的解决方案</h3><p>在CSS3中引入了一个新单位<code>rem</code>，这是个啥嘞？在<a href="http://www.w3.org/TR/css3-values/" target="_blank" rel="external">W3C官方文档</a>中是这样定义的<strong>font size of the root element</strong>，也就是说它是以页面根元素的字号大小作为基准的，我们页面中元素的大小设置将会基于根元素的字号大小。</p>
<p>比如我们给根节点设置<code>font-size: 20px;</code>，则<code>1rem = 20px</code>，那么页面元素<code>40px</code>应该是<code>2rem</code>，附上px和rem的换算地址 <a href="https://offroadcode.com/prototypes/rem-calculator/" target="_blank" rel="external">https://offroadcode.com/prototypes/rem-calculator/</a>。</p>
<p>不要看这是一个新引入的单位，但是各大浏览器厂商的觉悟还是很高的，这个单位的兼容性非常高，在Android 2.X以上、iOS5以上都支持，大家可以看看来自<a href="http://caniuse.com/#search=rem" target="_blank" rel="external">caniuse</a>的统计。</p>
<p>可以说这是一个神奇的单位，如果我们为页面根元素设置一个字号大小，并且随着页面页面窗口大小的变化去重置这个字号大小，那么页面元素的大小也会跟随根元素字号大小的变化而变化，这就是基于REM来布局的妙处，这样在大屏手机上元素会合理放大，而在小屏手机上元素也会调整到合适的大小，几乎可以很好地适配大部分机型。</p>
<p>搬运自网上的自适应脚本</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">doc, win</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> docEl = doc.documentElement,</span><br><span class="line">        resizeEvt = <span class="string">'orientationchange'</span> <span class="keyword">in</span> <span class="built_in">window</span> ? <span class="string">'orientationchange'</span> : <span class="string">'resize'</span>,</span><br><span class="line">        recalc = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> clientWidth = docEl.clientWidth;</span><br><span class="line">            <span class="keyword">if</span> (!clientWidth) <span class="keyword">return</span>;</span><br><span class="line">            docEl.style.fontSize = <span class="number">100</span> * (clientWidth / <span class="number">320</span>) + <span class="string">'px'</span>;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Abort if browser does not support addEventListener</span></span><br><span class="line">    <span class="keyword">if</span> (!doc.addEventListener) <span class="keyword">return</span>;</span><br><span class="line">    win.addEventListener(resizeEvt, recalc, <span class="literal">false</span>);</span><br><span class="line">    doc.addEventListener(<span class="string">'DOMContentLoaded'</span>, recalc, <span class="literal">false</span>);</span><br><span class="line">&#125;)(<span class="built_in">document</span>, <span class="built_in">window</span>);</span><br></pre></td></tr></table></figure>
<p>但是基于REM的布局也存在缺点，它需要利用JS来做一些类似hack的操作，而且部分浏览器下，计算时，因为数字类型是int，而不是float，所以会进行四舍五入，导致计算偏差，从而当多个模块横向排列时，会出现“放不下，挤下来”等情况。段落文字的字号大小设置不适合使用<code>rem</code>来设置，还是应该使用<code>px</code>，这样的话还是会有文字在高分辨率手机上显示过小的问题，这时我们可以考虑使用CSS3中提供的<code>media query</code>来做一些适配</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.test</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">12px</span></span></span>;</span><br><span class="line">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="at_rule">@<span class="keyword">media</span> all and (min-width: <span class="number">361px</span>) </span>&#123;</span><br><span class="line">    <span class="class">.test</span> <span class="rules">&#123;</span><br><span class="line">        <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">14px</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="at_rule">@<span class="keyword">media</span> all and (min-width: <span class="number">415px</span>) </span>&#123;</span><br><span class="line">    <span class="class">.test</span> <span class="rules">&#123;</span><br><span class="line">        <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">16px</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="http://m.taobao.com/" target="_blank" rel="external">淘宝首页</a>就是使用REM来做布局的，而且它通过给不同dpr的设备上元素设置不同字号大小解决了字号适配的问题</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0.4rem</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>; <span class="comment">// 默认写上dpr为1的fontSize</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr_selector">[data-dpr="2"]</span> <span class="tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="attr_selector">[data-dpr="3"]</span> <span class="tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">36px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同时他们根据设备的dpr动态设置页面的viewport以达到对页面进行一定缩放的目的，来使得页面能按照物理像素来进行渲染，提高页面的清晰度，同时能愉快地写出1px宽的元素。这算是一种组合式适配方案，整体还是非常棒的，而且适配效果非常棒。</p>
<p>附上淘宝解决方案<a href="https://github.com/amfe/lib-flexible" target="_blank" rel="external">传送门</a>。</p>
<h3 id="总结">总结</h3><p>使用改变<code>zoom</code>粗暴地缩放页面，看起来非常简单高效，但引出的问题不少，所以不推荐使用。</p>
<p>通过改变<code>viewport</code>来进行适配，我们所需做的操作非常少，额外引用一段脚本就能实现，而且效果不错，值得尝试。</p>
<p>纯粹的REM布局还是不够完美，字号的适配需要借助响应式来进行操作，略显麻烦，但是兼容性非常好，也是不错的解决方案。</p>
<h3 id="参考">参考</h3><ul>
<li><a href="http://www.w3.org/TR/css3-values/" target="_blank" rel="external">http://www.w3.org/TR/css3-values/</a></li>
<li><a href="http://www.quirksmode.org/blog/archives/2010/09/combining_meta.html" target="_blank" rel="external">http://www.quirksmode.org/blog/archives/2010/09/combining_meta.html</a></li>
<li><a href="http://isux.tencent.com/web-app-rem.html" target="_blank" rel="external">http://isux.tencent.com/web-app-rem.html</a></li>
<li><a href="https://github.com/amfe/lib-flexible" target="_blank" rel="external">https://github.com/amfe/lib-flexible</a></li>
<li><a href="https://github.com/unbug/generator-webappstarter/blob/master/app/templates/app/src/util/MetaHandler.js" target="_blank" rel="external">https://github.com/unbug/generator-webappstarter/blob/master/app/templates/app/src/util/MetaHandler.js</a></li>
<li><a href="http://www.cnblogs.com/2050/p/3877280.html" target="_blank" rel="external">http://www.cnblogs.com/2050/p/3877280.html</a></li>
<li><a href="https://www.icloud.com/keynote/AwBWCAESEJd5uucfBPGt6KPotb3tNfsaKm-Q7fqs2-4ojmPoPJuWZCvjYgKl5jEf1URdRgdgNHe38BTzeF3DK7q1ewMCUCAQEEIJ85mw21ii_AwybOqxoF-V02v51Vdg855ED4qVA_8bXr?redirectReason=notFound#Mobile_Webpage_如何自适应屏幕_2" target="_blank" rel="external">https://www.icloud.com/keynote/AwBWCAESEJd5uucfBPGt6KPotb3tNfsaKm-Q7fqs2-4ojmPoPJuWZCvjYgKl5jEf1URdRgdgNHe38BTzeF3DK7q1ewMCUCAQEEIJ85mw21ii_AwybOqxoF-V02v51Vdg855ED4qVA_8bXr?redirectReason=notFound#Mobile_Webpage_如何自适应屏幕_2</a></li>
</ul>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">


  <div class="article-tags">
  
  <span></span> <a href="/tags/适配/">适配</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://yoursite.com/2015/10/14/Adaptation-summary/" data-title="移动端适配方案 | Knight" data-tsina="shibiaoz" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2015/10/27/node-shell-interface/" title="node 交互式命令行">
  <strong>上一篇：</strong><br/>
  <span>
  node 交互式命令行</span>
</a>
</div>


<div class="next">
<a href="/2015/09/14/hello-world/"  title="Hello Hexo">
 <strong>下一篇：</strong><br/> 
 <span>Hello Hexo
</span>
</a>
</div>

</nav>

	

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
 
 <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#利用zoom适配"><span class="toc-number">1.</span> <span class="toc-text">利用zoom适配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#通过动态设置viewport来缩放"><span class="toc-number">2.</span> <span class="toc-text">通过动态设置viewport来缩放</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基于REM的解决方案"><span class="toc-number">3.</span> <span class="toc-text">基于REM的解决方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#总结"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考"><span class="toc-number">5.</span> <span class="toc-text">参考</span></a></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  


  

  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/nodeJs/" title="nodeJs">nodeJs<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/适配/" title="适配">适配<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/webview/" title="webview">webview<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/其他/" title="其他">其他<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://tbbravo.github.io/" target="_blank" title="tbbravo">tbbravo</a>
            
          </li>
        
          <li>
            
            	<a href="http://tbfe.github.io/jsbear/" target="_blank" title="tbfe">tbfe</a>
            
          </li>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
          <li>
            
            	<a href="http://wuchong.me" target="_blank" title="Jark&#39;s Blog">Jark&#39;s Blog</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=shibiaoz&verifier=shibiaoz&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Shibiao in Baidu. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		<a href="http://weibo.com/shibiaoz" target="_blank" class="icon-weibo" title="微博"></a>
		
		
		
		
		
		
		
		
		
		
		<a href="mailto:shibaoz@sina.cn" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="Shibiaoz">Shibiaoz</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>









<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
